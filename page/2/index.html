<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hugo 0.80.0"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="description" content=""/><title>Pager 2 - cxfksword&#39;s notes</title><link rel="canonical" href="//blog.xetri.net/"/><link rel="stylesheet" href="//blog.xetri.net/scss/style.min.877eb08bffd23d4beea6863a88c518e3.css"/><meta property="og:title" content="Pager 2 - cxfksword&#39;s notes"/><meta property="og:description" content=""/><meta property="og:url" content="//blog.xetri.net/"/><meta property="og:site_name" content="cxfksword&#39;s notes"/><meta property="og:type" content="website"/><meta name="twitter:title" content="Pager 2 - cxfksword&#39;s notes"/><meta name="twitter:description" content=""/><meta property="og:updated_time" content="2021-01-15T16:03:08+08:00"/><link rel="alternate" type="application/rss+xml" href="//blog.xetri.net/index.xml"/><style>.article-page article .article-content img{max-width:720px;object-fit:cover;width:100%}.article-summary-more{margin-left:5px;padding:1px 5px;border-radius:5px;border:var(--card-text-color-secondary)solid 1px;color:var(--card-text-color-secondary);font-size:.8em}.article-content code{background-color:rgba(27,31,35,.05);margin:0 2px}div.hugo-encrypt-encryption-notice{margin:1.5em 0;padding:0 var(--content-padding)}.hugo-encryptor-tips{margin-top:1.5rem;color:#797979;font-style:italic}.hugo-encrypt-form .hugo-encrypt-input{padding:4px 0;border:1px solid #f596aa;border-radius:1rem;outline:none;line-height:1.25;text-align:center;color:#4a4a4a;-webkit-appearance:none}.hugo-encrypt-form .hugo-encrypt-button{margin-left:1rem;padding:4px 16px;background-color:#fafafa;border:1px solid #fff;border-radius:1rem;box-shadow:0 1px 2px rgba(0,0,0,.3);outline:none;line-height:1.25;text-align:center;color:#e16b8c;transition:all ease-out .3s}.hugo-encrypt-form .hugo-encrypt-button:hover{background-color:#e16b8c;border-color:#e16b8c;color:#fafafa;cursor:pointer}.hugo-encrypt-input-response{margin-left:1rem;color:#f08080}div.notices.warning>blockquote{border-left:var(--blockquote-border-size)solid #f0b37e;background:#fff2db}div.notices.success>blockquote{border-left:var(--blockquote-border-size)solid rgba(92,184,92,.8);background:#e6f9e6}div.notices>blockquote{border-left:var(--blockquote-border-size)solid #6ab0de;background:#e7f2fa}div.notices.error>blockquote{border-left:var(--blockquote-border-size)solid rgba(217,83,79,.8);background:#fae2e2}</style></head><body><div id="content"><div class="container extended flex on-phone--column align-items--flex-start"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
<span class="hamburger-box"><span class="hamburger-inner"></span></span></button><header class="site-info"><figure class="site-avatar"><img src="//blog.xetri.net/img/avatar_hub76bbbc8c06c72418eefeedfe902e916_30687_300x300_resize_q75_box.jpg" width="300" height="300" class="site-logo" loading="lazy" alt="Avatar"/>
<span class="emoji">🍥</span></figure><h1 class="site-name"><a href="//blog.xetri.net/">cxfksword&#39;s notes</a></h1><h2 class="site-description">simple thinking, simple life.</h2></header><nav class="menu" id="main-menu"><li class="current"><a href="//blog.xetri.net/"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><polyline points="5 12 3 12 12 3 21 12 19 12"></polyline><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"></path></svg><span>首页</span></a></li><li><a href="//blog.xetri.net/archive/"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><rect x="3" y="4" width="18" height="4" rx="2"></rect><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"></path><line x1="10" y1="12" x2="14" y2="12"></line></svg><span>归档</span></a></li><li><a href="//blog.xetri.net/projects"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><line x1="5" y1="9" x2="19" y2="9"></line><line x1="5" y1="15" x2="19" y2="15"></line><line x1="11" y1="4" x2="7" y2="20"></line><line x1="17" y1="4" x2="13" y2="20"></line></svg><span>项目</span></a></li><li><a href="//blog.xetri.net/abouts"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="7" r="4"></circle><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"></path></svg><span>关于</span></a></li><li><a href="//blog.xetri.net/index.xml"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="5" cy="19" r="1"></circle><path d="M4 4a16 16 0 0116 16"></path><path d="M4 11a9 9 0 019 9"></path></svg><span>订阅</span></a></li></nav></aside><main class="main full-width"><section class="article-list"><article><div class="article-details"><header class="article-category"><a href="//blog.xetri.net/categories/%E6%97%A5%E5%B8%B8">日常</a></header><h2 class="article-title"><a href="//blog.xetri.net/2018/02/the-summary-of-2017/">The Summary of 2017</a></h2><p>还有一天就到2018农历新年了，时间实在过得太快。今年两老的身体都有些不好，就提前请假回家，现在已舒服呆在房间中了。家里的天气实在是舒服，阳光明媚，想起广州住处的阴冷天气就头痛，衣服实在不容易干。</p><hugo-encrypt><div class="hugo-encrypt-encryption-notice"><p class="hugo-encryptor-tips">文章的部分内容被密码保护：</p><noscript><span id=hugo-encrypt-enable-js>Javascript needs to be enabled to decrypt content</span></noscript><div class="hugo-encrypt-form"><input class="hugo-encrypt-input" id="hugo-encrypt-password" placeholder="请输入密码"/>
<input class="hugo-encrypt-button" type="button" value="点击验证" id="button" onclick="hugoDecrypt(document.getElementById(&#39;hugo-encrypt-password&#39;).value,&#39;input&#39;)"/>
<span class="hugo-encrypt-input-response"></span></div></div><cipher-text style="display:none;">ed74aadfc81fb1f3-b63b9892a7db4e2d9b54bcdb-f01f867c3eb01ae921a88e97de913fc15c03382f7b73dfc0be2311c45e727126fb4a85b94bd703facc31a16f38365d538949b6d0dc34c56362fa97d186799660aa510386f7077447e79f329badec8d756c0adf63185e036f69e82e22a25663e6e1353bc7f7f3a4aabcdf133face9085f364b5e878e284ab2c8b405804b9de8013a9c8e3a7e34a83106688e55c275a0047d8eb6d6057552e6c4417150b4a55a62d42967d9e982bfca2acda432dfd76e63e3431832510b5d5d15c27a00e55ee7a2a9f199a1dd84454b36f1accd5ef318f60d42a9612249b14b954c35fe0e44954e848359e3a67b4a41d9db70ed6b1e029f858c16cf48454ed4eabf1e34eb36b1165a268f5ed7086679ff9f1d4afe438f2223bb6ae6263bed6cccc15e180ff85aaab7adf3d4235eb88685a0eec1b9d3cb5b6855487ec826d76e3d85c0f2ac7500fe3ee4b5ae48cf9ba28e834a2451925a98ec1d4b54b28fbfa9b032695f8c7cd33d9d164305c54e7b4753785cbf02a3090bea6d93629cbdd043ee65e7ee4cb0b0f9359c60ac61001858b894c6506f5cf40b97584ffc3f5142696b87b85fb1de5e000e8ecec3e0822baacc50133359ad30b9362f284873f79fd52a8cd015f38718fe60354bc3e8d39c6e66963487fef7abc5790e8604c36c56302285d78a1270d2eb9f26dbbfb4c9b3976230950cad2107b18c52fa6100e688ee22f2325518d7ede99d6d4cc039f44cc18c28d947be9f381a735b5946a5b1eb8449213e853400cc70b91314ec2beddb095658a3ec83b067dbd267da7d1e2a95c4fb4ee701c423bf4af1e301f6798f2eb246d00345a981ae99e30328ab9da4ab9b159dcf982e23b392e81e07e75c1a90c643dc19cee5a99cefa0c7579069f33dfaa4e2d71256bc1e4e8bc96a7a4ac0de17519f7c2434836f3dd58729c43224230705d077f93376fef17b58cf9b37c8693b0a7fb9a85b731effa95e7ba708d6b3ebef6153830d6063729f83f03e9a88a1d6b1c6185e2e9b48e480eb235674d8dd7b30eddfaec1b93534812fb0d5e93997166a5641a78cd067578d189d19fc4e78d99a344b07a21718c4573b382d4b5cecee3e9d0edd91e4bd48c0a313caed09524b0fae73b82b673b03ea29ad56e6c18140108f938864d3f00c50c7a42ea2976b8a025a7d8c690d9078849a33f99f5fa3806e774a90e56083b48c15b596b3a1f732b80c33aff0bb7b1ee26a21dbe324e66595c1292639134065ccf68e9ae07be2e705c9db36c744fe5876c89cb35135c5e120b048a638ea59d6ac267b6369627db0677d8bbed5c0f556a796d8e91af27501990f4f524fdaa659d663c55ea9433b63c770084a3d548269afc52fcf50faf0f1e954b460092eb43c0fbc9123e13f21bd5fbfa3f1c9b4e000beb06d27f2c8c6dd17537c5233eeb78ca5dec79d56d24b2847f6386731219753179252af8c1f696f61c2e3b5b1b42de6470c67f2de57db0da352316945683a957f94bb2bb93890f881666b7855706ffc0f9eae30344c6266d056f12dffdb327c3df96c6154380e1a4a9b0c8ee114fbd2abcc9a5362a1a7dca7a185e25b3aafc5a0bd203ff1369549d74d858b4c7a7f7f6650a780b7dfb6012230fe7e251078b0bed9798346c572b1f4ab4531fd2c2ec7c08e1827acd731675f1d4f26e782ff13a1219ecb5a273ddf1e6f2ff3dd1638eb34c9097a020c9e1fa04a1204dc88ad8579d814a95ca9c02fa10419370efa7ab09e96f941cadf18c2c2b0d8385cf3d26b80bcb98b6c78b71877adaf51861798180f1fa355d19e8b906e3c4695611700e33ef6eecf2b7bb23f70b37e54f4589ef069b695b13b4b049285b5572d4a0982b8aa18d0faa3fb42bba7474344e654bfcb30eb78ed5dc734b8cfd919f0726b8a2aef856a744280af0b2155794c62cdb33b27760e8a1d76448d505ae5db67afada08ae78fef536a0bd478a11fb17482884e4bdb347b5681a73bfbd0bdad27c90bbea5dd993a3bf517f0f5164e98589e7a3cc48d2020e41d503d94d61aa9ac1f7a5a9a73b21308baa921e3cee8b791bbf28b54a605e7685aff4b932f63ca8dc263b51c0cf7868f638f82ad16420c28c12b7a3342f8ec6698be1058ddb9deb9f5397793a3d0c8e754d81ba6327e0cc6b05358d3334300bf8168c424336babe16b05ac147b55b90e59f606ef7dc75f08c7251e5fb07b9d071fca9a6ee3a3b161d4e72e8923aee1006ac31c890bc37f05902645a57853f23e4a92c7480eba02cf2df66ef5d3cb4addc8caa551d44e7c13c113f7e266e00ab55e69d5008f94082b582609c57b15b5cce288</cipher-text><style type="text/css">div#hugo-encrypt-sha1sum{display:none}</style><script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.js"></script><script>const storageKey=location.pathname+"password";const userStorage=localStorage;function str2buf(str){return new TextEncoder("utf-8").encode(str);}
function buf2str(buffer){return new TextDecoder("utf-8").decode(buffer);}
function hex2buf(hexStr){return new Uint8Array(hexStr.match(/.{2}/g).map(h=>parseInt(h,16)));}
function deriveKey(passphrase,salt){salt=salt||crypto.getRandomValues(new Uint8Array(8));return crypto.subtle.importKey("raw",str2buf(passphrase),"PBKDF2",false,["deriveKey"]).then(key=>crypto.subtle.deriveKey({name:"PBKDF2",salt,iterations:1000,hash:"SHA-256"},key,{name:"AES-GCM",length:256},false,["encrypt","decrypt"],),).then(key=>[key,salt]);}
function decrypt(passphrase,saltIvCipherHex){const[salt,iv,data]=saltIvCipherHex.split("-").map(hex2buf);return deriveKey(passphrase,salt).then(([key])=>crypto.subtle.decrypt({name:"AES-GCM",iv},key,data)).then(v=>buf2str(new Uint8Array(v)));}
function removeNotice(){var notices=document.getElementsByClassName("hugo-encrypt-encryption-notice");for(let i=0;i<notices.length;i++){notices[i].remove();}}
const hugoDecrypt=function(password,type){for(const cipher of ciphers){decrypt(password,cipher.innerText).then(function(decrypted_text){let hash=CryptoJS.SHA1(decrypted_text.replace(/\r?\n?[^\r\n]*$/,""));let sha1_sum=CryptoJS.enc.Hex.stringify(hash);if(decrypted_text.includes(sha1_sum)){removeNotice();decrypted_text=decrypted_text.replace(/<div.*?hugo-encrypt-sha1sum.*?>.*?<\/div>/ig,'');cipher.parentNode.outerHTML=decrypted_text;userStorage.setItem(storageKey,password);console.log("Decryption successful. Storing password in Storage.");}}).catch(function(error){if(type==="input"){cipher.parentNode.querySelector('.hugo-encrypt-input-response').innerHTML="密码错误";console.log('密码错误',error);}else if(type==="storage"){userStorage.removeItem(location.pathname+"password");console.log("Password changed. Clearing userStorage.",error);}});}};</script><script>window.onload=()=>{ciphers=Array.from(document.querySelectorAll("cipher-text"));if(userStorage.getItem(storageKey)){console.log("Found storageKey in userStorage. Attemtping decryption");hugoDecrypt(userStorage.getItem(storageKey),"storage");}};</script></hugo-encrypt><p><a href="//blog.xetri.net/2018/02/the-summary-of-2017/" class="article-summary-more">More</a></p><footer class="article-time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg><time class="article-time--published">2018年02月14号</time></footer></div></article><article><div class="article-details"><header class="article-category"><a href="//blog.xetri.net/categories/%E6%8A%80%E6%9C%AF">技术</a></header><h2 class="article-title"><a href="//blog.xetri.net/2015/07/2015-using-gdb-to-debug-php-coredump/">使用gdb调试php的coredump文件</a></h2><p>使用xhprof测试slim框架的性能时，发现php抛了Segment Fault错误，试着使用gdb查看是什么导致的。</p><h2 id="生成coredump文件">生成coredump文件</h2><p>要生成php的coredump文件需要对系统进行一些配置，具体查看：<a class="link" href="https://rtcamp.com/tutorials/php/core-dump-php5-fpm/" target="_blank" rel="noopener">Generating core-dump for php5-fpm</a></p><h2 id="使用gdb调试coredump文件">使用gdb调试coredump文件</h2><p>执行gdb命令，因为coredump是php-fpm进程生成的，还需要指定php-fpm的路径，要不查看不了具体的代码执行信息。</p><pre><code>$ gdb /usr/local/php5/sbin/php-fpm -c /tmp/core-php-fpm.1567 
</code></pre><p><a href="//blog.xetri.net/2015/07/2015-using-gdb-to-debug-php-coredump/" class="article-summary-more">More</a></p><footer class="article-time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg><time class="article-time--published">2015年07月08号</time></footer></div></article><article><div class="article-details"><header class="article-category"><a href="//blog.xetri.net/categories/%E6%8A%80%E6%9C%AF">技术</a></header><h2 class="article-title"><a href="//blog.xetri.net/2015/04/loop-redirect-cause-by-cookie-conflict/">解决cookie冲突导致的登录循环重定向</a></h2><p>近排开发的一个后台系统（域名：admin.test.test.com）在接入公司统一SSO时，遇到了cookie冲突引起的登录循环重定向的bug。</p><p>公司有一个统一的SSO登录页面，我们开发的系统是跳转到该页面实现登录验证的。有用户反映登录不了，浏览器提示循环重定向了，查看用户浏览器发现有两个相同名称的session cookie：</p><pre><code>PHPSESSID=token1; path=/; expired=/; domain=.test.com  
PHPSESSID=token2; path=/; expired=/; domain=.test.test.com
</code></pre><p>显然这两个cookie的domain因为都是admin.test.test.com的根域名，使浏览器都发送到php后台系统了。第一个是后台系统（admin.test.test.com）写入的，是正确的session id，而第二个是由未知系统写入的。测试打印**$_COOKIE[‘PHPSESSID’]**发现输出是：</p><pre><code>token2
</code></pre><p>很明显php读取到了错误的session id，所以导致系统读取不到保存在session中的登录信息，而误判用户为未登录，之后再把用户跳转回SSO登录页面，跳转回SSO系统后，SSO系统知道用户已登录过，再跳转回系统。。。这样就一直循环下去了=。=</p><p><a href="//blog.xetri.net/2015/04/loop-redirect-cause-by-cookie-conflict/" class="article-summary-more">More</a></p><footer class="article-time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg><time class="article-time--published">2015年04月02号</time></footer></div></article><article><div class="article-details"><header class="article-category"><a href="//blog.xetri.net/categories/%E6%97%A5%E5%B8%B8">日常</a></header><h2 class="article-title"><a href="//blog.xetri.net/2014/01/the-summary-of-2013/">2013年总结</a></h2><p>2013年已过，过去一年生活和工作上没有大的变化。年前的计划如英语学习，学车和游戏等都没实现到，在广州现在没什么朋友和同学在，一个人执行力太差了，周六日随便找个偷懒的理由就混过了。。。</p><p>今年在工作上是忙碍的一年，上半年忙于把CMS系统数据层切换到数据中心，下半年因公司上市，忙于把服务器从windows切换到linux，开发语言也从最熟悉的.NET转为使用PHP。这一年忙着工作，忙着加班，计划的旅游没去到，生活状态也是越过越差，而公司上市也没为收入带来什么收益，对公司有点失望透了。2014年工作准备把重心放回到生活中，不能被工作绑架了，太累了。</p><p>年前因公司策略调整，开发语言变更，很多旧同事都在上半年离职，只剩下一两个人维护频道，下半年新同事陆陆续续入职，挣了半年，春节后应该就能回复到正轨了。不过现在发现怎样也融不进新团队，也不喜欢新团队气氛，只希望年后能找到不错的工作，换下环境。</p><p>2014年就计划专业方面学下英语，golang和看多些开源代码，业余方面学下游泳和摄影。生活上希望能变得自信豁达些，让过去都过去吧。对于家人，因为从中学后就一个人出来住和生活，的确没花太多精力关注家人，希望今年能做得更好。</p><p><a href="//blog.xetri.net/2014/01/the-summary-of-2013/" class="article-summary-more">More</a></p><footer class="article-time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg><time class="article-time--published">2014年01月01号</time></footer></div></article><article><div class="article-details"><header class="article-category"><a href="//blog.xetri.net/categories/%E6%8A%80%E6%9C%AF">技术</a></header><h2 class="article-title"><a href="//blog.xetri.net/2013/11/install-php-from-source-in-ubuntu/">在ubuntu中编译安装php</a></h2><h3 id="预装编译环境">预装编译环境</h3><p>在ubuntu中执行下面命令安装编译依赖软件</p><pre><code>&gt; sudo apt-get install \
    libxml2-dev \
    libcurl4-openssl-dev \
    libjpeg-dev \
    libpng-dev \
    libxpm-dev \
    libmysqlclient-dev \
    libpq-dev \
    libicu-dev \
    libfreetype6-dev \
    libldap2-dev \
    libxslt-dev

</code></pre><p><a href="//blog.xetri.net/2013/11/install-php-from-source-in-ubuntu/" class="article-summary-more">More</a></p><footer class="article-time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg><time class="article-time--published">2013年11月12号</time></footer></div></article><article><div class="article-details"><header class="article-category"><a href="//blog.xetri.net/categories/%E6%8A%80%E6%9C%AF">技术</a></header><h2 class="article-title"><a href="//blog.xetri.net/2013/11/handle-fatal-error-in-php/">捕捉php中的fatal error错误</a></h2><p>php中有三个函数与捕捉运行错误有关，分别是：</p><blockquote><p><a class="link" href="http://cn2.php.net/set_error_handler" target="_blank" rel="noopener">set_error_handler</a>：运行错误处理函数，php内核执行代码出错时一般是触发error，而不是抛异常，抛异常是面向对象编程中用的</p></blockquote><blockquote><p><a class="link" href="http://cn2.php.net/set_exception_handler" target="_blank" rel="noopener">set_exception_handler</a>：运行异常信息处理函数，当代码中throw的异常没有被try-catch捕获时，就会调用该函数。php中error和exception的区别可以看这篇回答：<a class="link" href="http://stackoverflow.com/questions/841500/php-exceptions-vs-errors" target="_blank" rel="noopener">php-exceptions-vs-errors</a></p></blockquote><blockquote><p><a class="link" href="http://cn2.php.net/register_shutdown_function" target="_blank" rel="noopener">register_shutdown_function</a>：脚本关闭执行函数，会在php脚本每次执行完成退出前运行。</p></blockquote><p>为了保证运行错误能被顺利捕捉到，必须保证在有错的程序执行前先注册了错误处理函数。
一般错误处理代码结构如下：</p><p><a href="//blog.xetri.net/2013/11/handle-fatal-error-in-php/" class="article-summary-more">More</a></p><footer class="article-time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg><time class="article-time--published">2013年11月04号</time></footer></div></article><article><div class="article-details"><header class="article-category"><a href="//blog.xetri.net/categories/%E6%8A%80%E6%9C%AF">技术</a></header><h2 class="article-title"><a href="//blog.xetri.net/2013/07/change-rubygem-source/">更改rubygems镜像源</a></h2><p>由于国内网络的原因，在安装ruby相关软件时，经常会在请求<strong>rubygems.org</strong>下载时一直卡着不动，这时可以切换到淘宝的镜像源，速度嗖嗖的。</p><blockquote><p><a href="http://ruby.taobao.org/">http://ruby.taobao.org/</a></p></blockquote><p>详细的更改方法可以访问上面的网址，假如项目下有GemFile文件，还需要更改GemFile文件的配置源地址。</p><p><a href="//blog.xetri.net/2013/07/change-rubygem-source/" class="article-summary-more">More</a></p><footer class="article-time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg><time class="article-time--published">2013年07月15号</time></footer></div></article><article><div class="article-details"><header class="article-category"><a href="//blog.xetri.net/categories/%E6%8A%80%E6%9C%AF">技术</a></header><h2 class="article-title"><a href="//blog.xetri.net/2013/06/develop-android-with-intellij-idea-12-and-scaloid/">使用scala+scaloid+IntelliJ IDEA 12开发android应用</a></h2><h3 id="软件环境">软件环境</h3><p>继续下面的示例前，需要保证安装了下面的软件：</p><ul><li>JDK 1.6</li><li>Android SDK</li><li>IntelliJ IDEA 12</li><li>Scala 2.10.2</li><li>Maven 3</li></ul><blockquote><p>IntelliJ IDEA 12正常也可以换为Android Studio，不过因为Android Studio是基于IntelliJ IDEA 13 EAP开发的，当前scala plugin还不支持13 EAP，所以还是建议使用IntelliJ IDEA 12，等scala plugin支持最新版后，再换为Android Studio进行开发。</p></blockquote><h3 id="示例项目">示例项目</h3><p><a class="link" href="https://github.com/pocorall/hello-scaloid-maven" target="_blank" rel="noopener">hello-scaloid-maven</a>是一个完全使用maven编译的示例项目,借助<a class="link" href="http://code.google.com/p/maven-android-plugin/" target="_blank" rel="noopener">android maven plugin</a>插件可以把代码编译为android的apk文件。</p><p><a href="//blog.xetri.net/2013/06/develop-android-with-intellij-idea-12-and-scaloid/" class="article-summary-more">More</a></p><footer class="article-time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg><time class="article-time--published">2013年06月30号</time></footer></div></article><article><div class="article-details"><header class="article-category"><a href="//blog.xetri.net/categories/%E6%8A%80%E6%9C%AF">技术</a></header><h2 class="article-title"><a href="//blog.xetri.net/2012/10/ubuntu-daily/">ubuntu日常操作</a></h2><p>工作用电脑将会切换到ubuntu上了，记录下ubuntu常用操作。</p><h3 id="升级到php54">===升级到php5.4===</h3><pre><code>For Ubuntu 11.10/12.04:
sudo add-apt-repository ppa:ondrej/php5
sudo apt-get update
sudo apt-get install php5
For Ubuntu 10.04 LTS, run the following commands (Thanks to Ivan Castellanos for the extra tip):

sudo echo &#34;deb http://ppa.launchpad.net/ondrej/php5/ubuntu lucid main&#34; &gt;&gt; /etc/apt/sources.list
sudo echo &#34;deb-src http://ppa.launchpad.net/ondrej/php5/ubuntu lucid main&#34; &gt;&gt; /etc/apt/sources.list
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E5267A6C
sudo apt-get update
sudo apt-get install php5
You can check if PHP 5.4.x is successfully installed with this command:

php5 -v
</code></pre><p><a href="http://www.zimbio.com/Ubuntu+Linux/articles/D_AsJR2qAL6/How+Upgrade+PHP+5+4+Ubuntu">http://www.zimbio.com/Ubuntu+Linux/articles/D_AsJR2qAL6/How+Upgrade+PHP+5+4+Ubuntu</a></p><p><a href="//blog.xetri.net/2012/10/ubuntu-daily/" class="article-summary-more">More</a></p><footer class="article-time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg><time class="article-time--published">2012年10月30号</time></footer></div></article><article><div class="article-details"><header class="article-category"><a href="//blog.xetri.net/categories/%E6%8A%80%E6%9C%AF">技术</a></header><h2 class="article-title"><a href="//blog.xetri.net/2012/05/disassembly-with-ida-pro/">利用IDA Pro反汇编程序</a></h2><p><a class="link" href="http://www.hex-rays.com/products/ida/index.shtml" target="_blank" rel="noopener">IDA Pro</a>是一款强大的反汇编软件，特有的IDA视图和交叉引用，可以方便理解程序逻辑和快速定位代码片断，以方便修改。
<img src="http://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q1vme0mij20ly0ihdil.jpg" alt="IDA视图"/></p><h3 id="示例程序">示例程序</h3><p>下面会通过修改示例程序的输出字符串，来讲解如何使用IDA Pro。</p><pre><code>#include

main()
{
    int n;
    scanf (&#34;%d&#34;,&amp;n);
    if (n &gt; 0)
       printf(&#34;a &gt; 0&#34;);  //后面会用IDA Pro把&#39;a&#39;改成&#39;n&#39;
    else
       printf(&#34;n &lt; 0&#34;);
}
</code></pre><p>编译后的程序下载：<a class="link" href="http://cxfksword.me/wp-content/uploads/2012/05/test.zip" target="_blank" rel="noopener">demo</a></p><p><a href="//blog.xetri.net/2012/05/disassembly-with-ida-pro/" class="article-summary-more">More</a></p><footer class="article-time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg><time class="article-time--published">2012年05月16号</time></footer></div></article></section><nav class="pagination"><a class="page-link" href="//blog.xetri.net/">1</a>
<span class="page-link current">2</span>
<a class="page-link" href="//blog.xetri.net/page/3/">3</a>
<span class="page-link dots">…</span>
<a class="page-link" href="//blog.xetri.net/page/5/">5</a></nav><footer class="site-footer"><section class="copyright">© 2021 cxfksword&#39;s notes</section><section class="powerby">Built with <a href="https://gohugo.io/" target="_blank">Hugo</a><br/>Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank">Stack</a></b> designed by
<a href="https://jimmycai.com" target="_blank">Jimmy</a></section></footer></main><aside class="sidebar right-sidebar sticky"><section class="widget archive"><div class="widget-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><path d="M9.828 9.172a4 4 0 100 5.656A10 10 0 0012 12a10 10 0 012.172-2.828 4 4 0 110 5.656A10 10 0 0112 12 10 10 0 009.828 9.172"></path></svg></div><h1 class="widget-title">归档</h1><div class="archive-year"><a href="//blog.xetri.net/archive#2021"><span class="year">2021</span>
<span class="count">1</span></a></div><div class="archive-year"><a href="//blog.xetri.net/archive#2020"><span class="year">2020</span>
<span class="count">5</span></a></div><div class="archive-year"><a href="//blog.xetri.net/archive#2019"><span class="year">2019</span>
<span class="count">4</span></a></div><div class="archive-year"><a href="//blog.xetri.net/archive#2018"><span class="year">2018</span>
<span class="count">1</span></a></div><div class="archive-year"><a href="//blog.xetri.net/archive#2015"><span class="year">2015</span>
<span class="count">2</span></a></div><div class="archive-year"><a href="//blog.xetri.net//archive"><span class="year">更多</span></a></div></section><section class="widget tagCloud"><div class="widget-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"></path><circle cx="9" cy="9" r="2"></circle></svg></div><h1 class="widget-title">标签云</h1><div class="tagCloud-tags"><a href="//blog.xetri.net/tags/android/" class="font_size_5">Android</a>
<a href="//blog.xetri.net/tags/php/" class="font_size_5">Php</a>
<a href="//blog.xetri.net/tags/linux/" class="font_size_4">Linux</a>
<a href="//blog.xetri.net/tags/.net/" class="font_size_3">.net</a>
<a href="//blog.xetri.net/tags/ip/" class="font_size_3">Ip</a>
<a href="//blog.xetri.net/tags/windbg/" class="font_size_3">Windbg</a>
<a href="//blog.xetri.net/tags/c/" class="font_size_2">C#</a>
<a href="//blog.xetri.net/tags/http/" class="font_size_2">Http</a>
<a href="//blog.xetri.net/tags/ubuntu/" class="font_size_2">Ubuntu</a>
<a href="//blog.xetri.net/tags/adb/" class="font_size_1">Adb</a></div></section></aside></div></div><script src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js" integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin="anonymous"></script><script type="text/javascript" src="//blog.xetri.net/ts/main.js" defer=""></script><script>(function(){const customFont=document.createElement('link');customFont.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";customFont.type="text/css";customFont.rel="stylesheet";document.head.appendChild(customFont);}());</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-154973579-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-154973579-1');</script></body></html>