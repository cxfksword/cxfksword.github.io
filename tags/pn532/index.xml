<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>pn532 on cxfksword's notes</title><link>//blog.tri-lib.com/tags/pn532/</link><description>Recent content in pn532 on cxfksword's notes</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><managingEditor>cxfksword@gmail.com (cxfksword)</managingEditor><webMaster>cxfksword@gmail.com (cxfksword)</webMaster><lastBuildDate>Mon, 30 Dec 2019 11:27:10 +0800</lastBuildDate><atom:link href="//blog.tri-lib.com/tags/pn532/index.xml" rel="self" type="application/rss+xml"/><item><title>一加7 pro使用 pn532 复制手机加密门禁卡</title><link>//blog.tri-lib.com/2019/12/%E4%B8%80%E5%8A%A07-pro%E4%BD%BF%E7%94%A8-pn532-%E5%A4%8D%E5%88%B6%E6%89%8B%E6%9C%BA%E5%8A%A0%E5%AF%86%E9%97%A8%E7%A6%81%E5%8D%A1/</link><pubDate>Mon, 30 Dec 2019 11:27:10 +0800</pubDate><author>cxfksword@gmail.com (cxfksword)</author><guid>//blog.tri-lib.com/2019/12/%E4%B8%80%E5%8A%A07-pro%E4%BD%BF%E7%94%A8-pn532-%E5%A4%8D%E5%88%B6%E6%89%8B%E6%9C%BA%E5%8A%A0%E5%AF%86%E9%97%A8%E7%A6%81%E5%8D%A1/</guid><description>入住万科小区后，每次出入都要经过两次门禁，导致虽然装了智能锁，但还是要带门禁卡，所以一直想着怎样把门禁复制到手机 NFC 上。一加7 pro 在 11 月已推送了门禁卡功能，但只支持未加密的门禁卡，万科的一卡通都是加密过的，所以直接复制不了。
加密卡也分半加密或全加密，属于哪种类型，可以手机下载 MifareClassicTool 查看，部分扇位可以看到内容的就是半加密，所有扇位内容都看不到的就是全加密卡，全加密卡的话，建议直接放弃，破解密钥需要太多时间了。
经过在酷安浏览 NFC 相关内容，发现是有方法可以实现复制的，但需要一个 PN532 的 NFC 解密设备和 CUID 空白卡，复制流程如下：
使用 PN532 解密半加密的原卡内容 把门禁卡的 0 扇区的 0 块的 UID 和厂商号写入 CUID 空白卡（这样空白卡就变成未加密卡了） 使用手机 NFC 模拟 CUID 空白卡 使用 PN532 或另一带 NFC 功能的手机把余下加密的所有扇区信息写下手机模拟的门禁卡 一、使用 PN532 解密半加密的原卡内容 pn532 如何连接电脑就不详述了，要解密原门禁卡密钥，需要下载windows 软件MifareOneTool，把门卡放到 PN532 上，然后选择高级模式 -&amp;gt; HardNested，软件就会开始执行爆力破解，在我 i6700K 电脑上，平均破解一个密钥需要 6 小时。。。一般进度到 30%～50% 就能破解到，只要还是看 RP😂
扇区号填写需要破解密钥的扇区，1 个扇区有 A/B 两个密钥，所以一个扇区是需要破解两次的。
破解 10 扇区的 A 密钥： 破解 10 扇区的 B 密钥： 破解原理可以看下面文章：</description></item></channel></rss>